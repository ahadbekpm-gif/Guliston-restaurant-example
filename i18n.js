const translations = {
  uz: {
    hero: {
      tags: {
        premium: "Premium Taomlar",
        selection: "Gourmet Tanlovi",
        experience: "Tajriba",
        dining: "Oliy Navli Taomlar",
        visit: "Bizga tashrif buyuring"
      },
      title: "Gulistonda premium milliy va yevropa taomlari",
      description: "Mazali taomlar ¬∑ Qulay muhit ¬∑ Yuqori sifat",
      trust_signal: '<span class="icon-gold">‚≠ê</span> 4.5 Google rating ¬∑ <span class="icon-gold">üìç</span> Markazda ¬∑ <span class="icon-gold">üïí</span> Har kuni 08:00‚Äì00:30',
      cta_menu: "Menyuni ko'rish",
      cta_call: "Qo'ng'iroq qilish",
      cta_map: "Manzilni ko'rish"
    },
    menu: {
      title: "Bizning Menyu",
      breakfast: "Nonushta",
      lunch: "Tushlik",
      drinks: "Ichimliklar",
      hot_dishes: "Issiq taomlar",
      salads: "Salatlar",
      order_phone: "Buyurtma berish",
      back_to_categories: "Toifalarga qaytish"
    },
    reservation: {
      title: "Stol band qilish",
      name: "Ismingiz",
      date: "Sana",
      time: "Vaqt",
      submit: "Band qilish"
    },
    contact: {
      title: "Biz bilan bog'lanish",
      hours: "Ish vaqti: 08:00 - 00:30",
      address: "Guliston sh., Alisher Navoiy ko'chasi, 42-uy",
      follow: "Bizni kuzatib boring"
    },
    gallery: {
      title: "Foto Galereya",
      subtitle: "Bizning muhit va taomlarimiz"
    },
    reviews: {
      title: "Mijozlarimiz fikri",
      subtitle: "Sizning ishonchingiz - bizning baxtimiz"
    }
  },
  ru: {
    hero: {
      tags: {
        premium: "–ü—Ä–µ–º–∏—É–º –†–µ—Å—Ç–æ—Ä–∞–Ω",
        selection: "–õ—É—á—à–∏–π –í—ã–±–æ—Ä",
        experience: "–í–ø–µ—á–∞—Ç–ª–µ–Ω–∏—è",
        dining: "–ò–∑—ã—Å–∫–∞–Ω–Ω–∞—è –ö—É—Ö–Ω—è",
        visit: "–ü–æ—Å–µ—Ç–∏—Ç–µ –ù–∞—Å"
      },
      title: "–ü—Ä–µ–º–∏–∞–ª—å–Ω—ã–µ –Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∏ –µ–≤—Ä–æ–ø–µ–π—Å–∫–∏–µ –±–ª—é–¥–∞ –≤ –ì—É–ª–∏—Å—Ç–∞–Ω–µ",
      description: "–í–∫—É—Å–Ω–∞—è –µ–¥–∞ ¬∑ –£—é—Ç–Ω–∞—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞ ¬∑ –í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ",
      trust_signal: '<span class="icon-gold">‚≠ê</span> 4.5 Google rating ¬∑ <span class="icon-gold">üìç</span> –í —Ü–µ–Ω—Ç—Ä–µ ¬∑ <span class="icon-gold">üïí</span> –ï–∂–µ–¥–Ω–µ–≤–Ω–æ 08:00‚Äì00:30',
      cta_menu: "–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –º–µ–Ω—é",
      cta_call: "–ü–æ–∑–≤–æ–Ω–∏—Ç—å",
      cta_map: "–ù–∞–π—Ç–∏ –Ω–∞ –∫–∞—Ä—Ç–µ"
    },
    menu: {
      title: "–ù–∞—à–µ –ú–µ–Ω—é",
      breakfast: "–ó–∞–≤—Ç—Ä–∞–∫",
      lunch: "–û–±–µ–¥",
      drinks: "–ù–∞–ø–∏—Ç–∫–∏",
      hot_dishes: "–ì–æ—Ä—è—á–∏–µ –±–ª—é–¥–∞",
      salads: "–°–∞–ª–∞—Ç—ã",
      order_phone: "–ó–∞–∫–∞–∑–∞—Ç—å —Å–µ–π—á–∞—Å",
      back_to_categories: "–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º"
    },
    reservation: {
      title: "–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–æ–ª–∏–∫",
      name: "–í–∞—à–µ –∏–º—è",
      date: "–î–∞—Ç–∞",
      time: "–í—Ä–µ–º—è",
      submit: "–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å"
    },
    contact: {
      title: "–°–≤—è–∑–∞—Ç—å—Å—è —Å –Ω–∞–º–∏",
      hours: "–ß–∞—Å—ã —Ä–∞–±–æ—Ç—ã: 08:00 - 00:30",
      address: "–≥. –ì—É–ª–∏—Å—Ç–∞–Ω, —É–ª. –ê–ª–∏—à–µ—Ä–∞ –ù–∞–≤–æ–∏, –¥. 42",
      follow: "–ü–æ–¥–ø–∏—Å—ã–≤–∞–π—Ç–µ—Å—å –Ω–∞ –Ω–∞—Å"
    },
    gallery: {
      title: "–§–æ—Ç–æ–≥–∞–ª–µ—Ä–µ—è",
      subtitle: "–ù–∞—à–∞ –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞ –∏ –±–ª—é–¥–∞"
    },
    reviews: {
      title: "–û—Ç–∑—ã–≤—ã –∫–ª–∏–µ–Ω—Ç–æ–≤",
      subtitle: "–í–∞—à–µ –¥–æ–≤–µ—Ä–∏–µ - –Ω–∞—à–µ —Å—á–∞—Å—Ç—å–µ"
    }
  },
  en: {
    hero: {
      tags: {
        premium: "Premium Dining",
        selection: "Gourmet Selection",
        experience: "Experience",
        dining: "Fine Dining",
        visit: "Visit Us"
      },
      title: "Premium National & European Cuisine in Gulistan",
      description: "Delicious Food ¬∑ Cozy Atmosphere ¬∑ High Quality",
      trust_signal: '<span class="icon-gold">‚≠ê</span> 4.5 Google rating ¬∑ <span class="icon-gold">üìç</span> Central Location ¬∑ <span class="icon-gold">üïí</span> Daily 08:00‚Äì00:30',
      cta_menu: "View Menu",
      cta_call: "Call Now",
      cta_map: "Get Directions"
    },
    menu: {
      title: "Our Menu",
      breakfast: "Breakfast",
      lunch: "Lunch",
      drinks: "Drinks",
      hot_dishes: "Hot Dishes",
      salads: "Salads",
      order_phone: "Order Now",
      back_to_categories: "Back to Categories"
    },
    reservation: {
      title: "Book a Table",
      name: "Your Name",
      date: "Date",
      time: "Time",
      submit: "Book Now"
    },
    contact: {
      title: "Contact Us",
      hours: "Working Hours: 08:00 - 00:30",
      address: "42 Alisher Navoiy Str., Gulistan",
      follow: "Follow Us"
    },
    gallery: {
      title: "Photo Gallery",
      subtitle: "Our atmosphere and dishes"
    },
    reviews: {
      title: "Guest Reviews",
      subtitle: "Your trust is our happiness"
    }
  }
};

export class I18n {
  constructor() {
    this.currentLang = localStorage.getItem('lang') || 'uz';
    this.updateContent();
  }

  setLanguage(lang) {
    this.currentLang = lang;
    localStorage.setItem('lang', lang);
    this.updateContent();
    window.dispatchEvent(new CustomEvent('languageChanged', { detail: { lang } }));
  }

  translate(key) {
    const keys = key.split('.');
    let result = translations[this.currentLang];
    for (const k of keys) {
      result = result[k];
    }
    return result || key;
  }

  updateContent() {
    document.querySelectorAll('[data-i18n]').forEach(el => {
      const key = el.getAttribute('data-i18n');
      el.innerHTML = this.translate(key);
    });
    document.documentElement.lang = this.currentLang;
  }
}

export const i18n = new I18n();
